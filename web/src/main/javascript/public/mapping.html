<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Contents | OncoTree</title>
    <meta name="description" content="OncoTree, an open-source cancer classification system, to address fast-evolving needs in clinical reporting of genomic sequencing results and associated oncology research.">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/assets/style.DIk717ET.css" as="style">
    
    <script type="module" src="/assets/app.CW7a5WQM.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.CyEiTwkJ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.D8__5SLn.js">
    <link rel="modulepreload" href="/assets/mapping.md.CdddfsKe.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar top" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><!----><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="left-aside aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _mapping" data-v-39a288b8><div><h1 id="contents" tabindex="-1">Contents <a class="header-anchor" href="#contents" aria-label="Permalink to &quot;Contents&quot;">​</a></h1><ul><li><a href="#oncotree-to-oncotree-mapping-tool">OncoTree to OncoTree Mapping Tool</a></li><li><a href="#ontology-to-ontology-mapping-tool">Ontology to Ontology Mapping Tool</a></li></ul><h2 id="oncotree-to-oncotree-mapping-tool" tabindex="-1">OncoTree to OncoTree Mapping Tool <a class="header-anchor" href="#oncotree-to-oncotree-mapping-tool" aria-label="Permalink to &quot;OncoTree to OncoTree Mapping Tool&quot;">​</a></h2><p>The OncoTree Mapping tool was developed to facilitate the mapping of OncoTree codes between different OncoTree release versions. Below you can find basic instructions in the &quot;Running the tool&quot; section, and a detailed walkthrough in the &quot;Tutorial&quot; section.</p><h2 id="setting-up-and-downloading-the-tool" tabindex="-1">Setting up and downloading the tool <a class="header-anchor" href="#setting-up-and-downloading-the-tool" aria-label="Permalink to &quot;Setting up and downloading the tool&quot;">​</a></h2><p>As of January 2020, the sun has set on <a href="https://www.python.org/doc/sunset-python-2/" target="_blank" rel="noreferrer">Python 2.X</a>. If you are still using Python 2.X, we encourage you to use Python 3.6 and above, but here is the <a href="https://github.com/cBioPortal/oncotree/blob/a9fac02d21b66b2ea1097a0a5b00e1369cfc2b7a/scripts/oncotree_to_oncotree.py" target="_blank" rel="noreferrer">last version of the code</a> to work with Python 2.X. In the future, only Python 3.X versions of this tool will be supported.</p><p>Click here to download the script: <span class="text-primary" style="font-size:1.5em;font-weight:bold;"><a href="http://oncotree.mskcc.org/downloads/oncotree_to_oncotree.py" target="_blank" rel="noreferrer">oncotree_to_oncotree.py <span class="text-primary oi oi-data-transfer-download"></span></a></span></p><h2 id="running-the-tool" tabindex="-1">Running the tool <a class="header-anchor" href="#running-the-tool" aria-label="Permalink to &quot;Running the tool&quot;">​</a></h2><p>The OncoTree Mapping tool can be run with the following command:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>python3 &lt;path/to/scripts/oncotree_to_oncotree.py&gt; --source-file &lt;path/to/source/file&gt; --target-file &lt;path/to/target/file&gt; --source-version &lt;source_oncotree_version&gt; --target-version &lt;target_oncotree_version&gt;</span></span></code></pre></div><p><strong>Options</strong></p><ul><li><code>-i | --source-file</code>: This is the source clinical file path. It must contain <code>ONCOTREE_CODE</code> in the file header and it must contain OncoTree codes corresponding to the <code>&lt;source_oncotree_version&gt;</code>. Read more about the cBioPortal clinical file format <a href="https://docs.cbioportal.org/5.1-data-loading/data-loading/file-formats#clinical-data" target="_blank" rel="noreferrer">here</a>.</li><li><code>-o | --target-file</code>: This is the path to the target clinical file that will be generated. It will contain mapped OncoTree codes from <code>&lt;source_oncotree_version&gt;</code>-to-<code>&lt;target_oncotree_version&gt;</code>.</li><li><code>-s | --source-version</code>: This is the source OncoTree version. The OncoTree codes in the source file must correspond to this version.</li><li><code>-t | --target-version</code>: This is the target OncoTree version that the script will attempt to map the source file OncoTree codes to.</li></ul><p>The list of OncoTree versions available are viewable <a href="http://oncotree.mskcc.org/api/versions" target="_blank" rel="noreferrer">here</a> or on the dropdown menu of the <a href="http://oncotree.mskcc.org/#/home" target="_blank" rel="noreferrer">OncoTree home page</a>.</p><p>Note: <span class="oi oi-warning text-danger" aria-hidden="true"></span> the source file should not contain embedded line breaks within any single cell in the table, such as those created by using the keyboard combinations Alt-Enter or Command-Option-Enter while editing a cell in Microsoft Excel.</p><p>For a detailed walkthrough of running the tool, see the &quot;Tutorial&quot; section below.</p><h2 id="output" tabindex="-1">Output <a class="header-anchor" href="#output" aria-label="Permalink to &quot;Output&quot;">​</a></h2><p>The OncoTree Mapper Tool will automatically replace the value in the <code>ONCOTREE_CODE</code> column with the mapped code if available. The tool will also add a new column called <code>ONCOTREE_CODE_OPTIONS</code> containing suggestions for OncoTree codes if one or more nodes could not be directly mapped. The <code>ONCOTREE_CODE_OPTIONS</code> column formats its suggestions differently depending on the mapping results. Possible suggestion formats and corresponding examples are shown below.</p><h3 id="_1-unambiguous-direct-mappings" tabindex="-1">1. Unambiguous Direct Mappings <a class="header-anchor" href="#_1-unambiguous-direct-mappings" aria-label="Permalink to &quot;1. Unambiguous Direct Mappings&quot;">​</a></h3><p>Unambiguous direct mappings occur when an OncoTree code maps directly to a single code in the target version. In this case, the <code>ONCOTREE_CODE_OPTIONS</code> column will be left blank, and the mapped code will be automatically placed in the <code>ONCOTREE_CODE</code> column. Unambiguous direct mappings are checked for addition of more granular nodes; to see how this may affect the <code>ONCOTREE_CODE_OPTIONS</code> column formatting, please refer to the subsection below &quot;4. More Granular Nodes Introduced&quot;.</p><h3 id="_2-ambiguous-direct-mappings" tabindex="-1">2. Ambiguous Direct Mappings <a class="header-anchor" href="#_2-ambiguous-direct-mappings" aria-label="Permalink to &quot;2. Ambiguous Direct Mappings&quot;">​</a></h3><p>Ambiguous direct mappings occur when an OncoTree code maps to multiple codes in the target version. The <code>ONCOTREE_CODE_OPTIONS</code> column formats the output as follows:</p><blockquote><p>&#39;Source Code&#39; -&gt; {&#39;Code 1&#39;, &#39;Code 2&#39;, &#39;Code 3&#39;, <span class="oi oi-ellipses"></span>}   e.g. <em>ALL -&gt; {TLL, BLL}</em></p></blockquote><p><strong>Example: Schema describing the revocation of OncoTree node ALL is mapped to multiple nodes.</strong></p><blockquote><p>In <code>oncotree_2018_05_01</code>, <code>ALL</code> had two children: <code>TALL</code> and <code>BALL</code>. On release <code>oncotree_2018_06_01</code>, the ALL node was discontinued and the <code>TALL</code> node was renamed <code>TLL</code> and the <code>BALL</code> node was renamed <code>BLL</code>.</p></blockquote><p><strong>The <code>ONCOTREE_CODE_OPTIONS</code> column would be shown as follows:</strong></p><blockquote><p><em>ALL -&gt; {TLL, BLL}</em></p></blockquote><p>Ambiguous direct mappings are also checked for addition of more granular nodes; to see how this may affect the <code>ONCOTREE_CODE_OPTIONS</code> column formatting, please refer to the subsection below &quot;4. More Granular Nodes Introduced&quot;.</p><h3 id="_3-no-direct-mappings" tabindex="-1">3. No Direct Mappings <a class="header-anchor" href="#_3-no-direct-mappings" aria-label="Permalink to &quot;3. No Direct Mappings&quot;">​</a></h3><p>No direct mappings occur when the source OncoTree code is unrelated to any OncoTree code in the target version. One such possibility is mapping a newly introduced OncoTree code backwards in time. In this case, the tool finds the closest set of <strong>neighbors</strong> (e.g parents and children) which are mappable in the target version. The <code>ONCOTREE_CODE_OPTIONS</code> column returns the set with the keyword <strong>Neighbors</strong> as follows:</p><blockquote><p>&#39;Source Code&#39; -&gt; <strong>Neighbors</strong> {&#39;Code 1&#39;, &#39;Code 2&#39;, &#39;Code 3&#39;, <span class="oi oi-ellipses"></span>}   e.g. <em>UPA -&gt; Neighbors {BLADDER}</em></p></blockquote><p><strong>Example: Schema describing a case where new OncoTree node UPA cannot be directly mapped backwards to a node.</strong></p><blockquote><p>In <code>oncotree_2019_03_01</code>, <code>UPA</code> was added to the OncoTree as a child node of <code>BLADDER</code>. Because <code>UPA</code> did not exist in previous version <code>oncotree_2018_05_01</code> and did not replace any existing node, the tool uses the surrounding nodes when mapping backwards. In this case, the parent node <code>BLADDER</code> is returned as the closest match.</p></blockquote><p><strong>The <code>ONCOTREE_CODE_OPTIONS</code> column would be shown as follows:</strong></p><blockquote><p><em>UPA -&gt; Neighbors {BLADDER}</em></p></blockquote><h3 id="_4-more-granular-nodes-introduced" tabindex="-1">4. More Granular Nodes Introduced <a class="header-anchor" href="#_4-more-granular-nodes-introduced" aria-label="Permalink to &quot;4. More Granular Nodes Introduced&quot;">​</a></h3><p>In certain cases, the target version can also introduce nodes with more specific descriptions. When this occurs, the tool will add the string <code>more granular choices introduced</code> to the existing text in the <code>ONCOTREE_CODE_OPTIONS</code> column as follows:</p><blockquote><p><em>&#39;Source Code&#39; -&gt; {&#39;Code 1&#39;, <span class="oi oi-ellipses"></span>}, <strong>more granular choices introduced</strong></em> e.g. <em>TALL -&gt; {TLL}, more granular choices introduced</em></p></blockquote><p><strong>Example: Schema describing a case where OncoTree node TALL is mapped to a node with more granular children</strong></p><blockquote><p>In <code>oncotree_2019_03_01</code>, <code>TALL</code> was a leaf node with no children. In release <code>oncotree_2019_06_01</code>, <code>TLL</code> was introduced as a replacement for <code>TALL</code> with additional children <code>ETPLL</code> and <code>NKCLL</code>.</p></blockquote><p><strong>The <code>ONCOTREE_CODE_OPTIONS</code> column would be shown as follows:</strong></p><blockquote><p><em>TALL -&gt; {TLL}, more granular choices introduced</em></p></blockquote><h3 id="_5-invalid-source-oncotree-code" tabindex="-1">5. Invalid Source OncoTree Code <a class="header-anchor" href="#_5-invalid-source-oncotree-code" aria-label="Permalink to &quot;5. Invalid Source OncoTree Code&quot;">​</a></h3><p>An invalid source OncoTree Code means the provided code cannot be found in the source version. In such a case, mapping cannot be attempted and the <code>ONCOTREE_CODE_OPTIONS</code> column displays the following:</p><blockquote><p><em>&#39;Source Code&#39; -&gt; ???, OncoTree code not in source OncoTree version</em></p></blockquote><h2 id="tutorial" tabindex="-1">Tutorial <a class="header-anchor" href="#tutorial" aria-label="Permalink to &quot;Tutorial&quot;">​</a></h2><p>The following tutorial will guide the user through using the <strong>oncotree_to_oncotree.py</strong> tool. The tutorial will go through the expected output to highlight specific mapping cases. Additionally, the tutorial will cross-reference the output with the generated mapping summary to demonstrate how it can be used to aid in manual selection of unresolved nodes.</p><h4 id="step-1" tabindex="-1">Step 1 <a class="header-anchor" href="#step-1" aria-label="Permalink to &quot;Step 1&quot;">​</a></h4><p>Download the sample input file (data_clinical_sample.txt) from <a href="https://raw.githubusercontent.com/cBioPortal/oncotree/master/docs/resources/data_clinical_sample.txt" target="_blank" rel="noreferrer">here <span class="text-primary oi oi-external-link"></span></a>.</p><h4 id="step-2" tabindex="-1">Step 2 <a class="header-anchor" href="#step-2" aria-label="Permalink to &quot;Step 2&quot;">​</a></h4><p>Download oncotree_to_oncotree.py from <a href="http://oncotree.mskcc.org/downloads/oncotree_to_oncotree.py" target="_blank" rel="noreferrer">here <span class="text-primary oi oi-data-transfer-download"></span></a>.</p><h4 id="step-3" tabindex="-1">Step 3 <a class="header-anchor" href="#step-3" aria-label="Permalink to &quot;Step 3&quot;">​</a></h4><p>Run the following command from the command line:</p><p><code>python oncotree_to_oncotree.py -i data_clinical_sample.txt -o data_clinical_sample_remapped.txt -s oncotree_2018_03_01 -t oncotree_2019_03_01</code></p><p>The tool will output two files: <code>data_clinical_sample_remapped.txt</code> and <code>data_clinical_sample_remapped_summary.html</code>. For your reference, you can see the expected output files - <a href="https://raw.githubusercontent.com/cBioPortal/oncotree/master/docs/resources/data_clinical_sample_remapped.txt" target="_blank" rel="noreferrer">here <span class="text-primary oi oi-external-link"></span></a> and <a href="https://raw.githubusercontent.com/cBioPortal/oncotree/master/docs/resources/data_clinical_sample_remapped_summary.html" target="_blank" rel="noreferrer">here <span class="text-primary oi oi-external-link"></span></a></p><h4 id="step-4" tabindex="-1">Step 4 <a class="header-anchor" href="#step-4" aria-label="Permalink to &quot;Step 4&quot;">​</a></h4><p>Examine <code>data_clinical_sample_remapped.txt</code>; the first five columns of the file should look as follows:</p><table tabindex="0"><thead><tr><th>PATIENT_ID</th><th>SAMPLE_ID</th><th>AGE_AT_SEQ_REPORT</th><th>ONCOTREE_CODE</th><th>ONCOTREE_CODE_OPTIONS</th></tr></thead><tbody><tr><td>P1</td><td>S1</td><td>41</td><td></td><td>ALL -&gt; {BLL,TLL}, more granular choices introduced</td></tr><tr><td>P2</td><td>S2</td><td>60</td><td></td><td>BALL -&gt; {BLL}, more granular choices introduced</td></tr><tr><td>P3</td><td>S3</td><td>&lt;18</td><td></td><td>TALL -&gt; {TLL}, more granular choices introduced</td></tr><tr><td>P4</td><td>S4</td><td>71</td><td>PTCL</td><td></td></tr><tr><td>P5</td><td>S5</td><td>64</td><td>PTCL</td><td></td></tr><tr><td>P6</td><td>S6</td><td>36</td><td></td><td>CHL -&gt; {CHL}, more granular choices introduced</td></tr><tr><td>P7</td><td>S7</td><td>63</td><td></td><td>SpCC -&gt; ???, OncoTree code not in source OncoTree version</td></tr><tr><td>P8</td><td>S8</td><td>63</td><td></td><td>MCL -&gt; {MCL}, more granular choices introduced</td></tr><tr><td>P9</td><td>S9</td><td>73</td><td></td><td>HGNEE -&gt; ???, OncoTree code not in source OncoTree version</td></tr><tr><td>P10</td><td>S10</td><td>52</td><td></td><td>ONCOTREE_CODE column blank : use a valid OncoTree code or &quot;NA&quot;</td></tr><tr><td>P11</td><td>S11</td><td>77</td><td>NA</td><td></td></tr><tr><td>P12</td><td>S12</td><td>87</td><td></td><td>TNKL -&gt; {MTNN}, more granular choices introduced</td></tr><tr><td>P13</td><td>S13</td><td>79</td><td></td><td>HIST -&gt; {HDCN}, more granular choices introduced</td></tr><tr><td>P14</td><td>S14</td><td>53</td><td>CLLSLL</td><td></td></tr><tr><td>P15</td><td>S15</td><td>69</td><td>CLLSLL</td><td></td></tr><tr><td>P16</td><td>S16</td><td>65</td><td></td><td>LEUK -&gt; {MNM}, more granular choices introduced</td></tr><tr><td>P17</td><td>S17</td><td>66</td><td>MYCF</td><td></td></tr><tr><td>P18</td><td>S18</td><td>66</td><td>RBL</td><td></td></tr></tbody></table><h4 id="step-5" tabindex="-1">Step 5 <a class="header-anchor" href="#step-5" aria-label="Permalink to &quot;Step 5&quot;">​</a></h4><p>Using values in the <code>ONCOTREE_CODE_OPTIONS</code> as a guide, manually select and place an OncoTree Code in the <code>ONCOTREE_CODE</code> column. For additional information, refer to the summary file <code>data_clinical_sample_remapped_summary.html</code>. Repeat for all rows in the output file. Several examples are shown below.</p><h6 id="sample-1" tabindex="-1">Sample 1 <a class="header-anchor" href="#sample-1" aria-label="Permalink to &quot;Sample 1&quot;">​</a></h6><table tabindex="0"><thead><tr><th style="text-align:left;">SAMPLE_ID</th><th style="text-align:center;">ONCOTREE_CODE</th><th style="text-align:center;">ONCOTREE_CODE_OPTIONS</th></tr></thead><tbody><tr><td style="text-align:left;">S1</td><td style="text-align:center;"></td><td style="text-align:center;">ALL -&gt; {BLL,TLL}, more granular choices introduced</td></tr></tbody></table><p>Source OncoTree code <code>ALL</code> maps directly to codes <code>BLL</code> and <code>TLL</code>. Users should place either <code>BLL</code> or <code>TLL</code> in the <code>ONCOTREE_CODE</code> column. The <code>ONCOTREE_CODE_OPTIONS</code> column also notes that more granular choices were introduced; as such, users can use the summary file for additional guidance.</p><p>Searching by source code, the following information can be found in the summary file:</p><p>The summary file provides a link to the closest shared parent node <code>LNM</code>; users can choose more granular nodes by referencing the provided tree:</p><h6 id="sample-2" tabindex="-1">Sample 2 <a class="header-anchor" href="#sample-2" aria-label="Permalink to &quot;Sample 2&quot;">​</a></h6><table tabindex="0"><thead><tr><th style="text-align:left;">SAMPLE_ID</th><th style="text-align:center;">ONCOTREE_CODE</th><th style="text-align:center;">ONCOTREE_CODE_OPTIONS</th></tr></thead><tbody><tr><td style="text-align:left;">S2</td><td style="text-align:center;"></td><td style="text-align:center;">BALL -&gt; {BLL}, more granular choices introduced</td></tr></tbody></table><p>Source OncoTree code <code>BALL</code> maps directly to <code>BLL</code>. Users should place <code>BLL</code> in the <code>ONCOTREE_CODE</code> column. However, similar to sample 1, the <code>ONCOTREE_CODE_OPTIONS</code> indicates there are more granular choices available. Users can follow the same steps as above and use the summary file to select a more granular node.</p><h6 id="sample-4" tabindex="-1">Sample 4 <a class="header-anchor" href="#sample-4" aria-label="Permalink to &quot;Sample 4&quot;">​</a></h6><table tabindex="0"><thead><tr><th style="text-align:left;">SAMPLE_ID</th><th style="text-align:center;">ONCOTREE_CODE</th><th style="text-align:center;">ONCOTREE_CODE_OPTIONS</th></tr></thead><tbody><tr><td style="text-align:left;">S4</td><td style="text-align:center;">PTCL</td><td style="text-align:center;"></td></tr></tbody></table><p>No additional resolution is needed; the previous OncoTree code was already automatically mapped to PTCL and placed in the <code>ONCOTREE_CODE</code> column. <code>ONCOTREE_CODE_OPTIONS</code> is empty because no manual selections were necessary.</p><h6 id="sample-9" tabindex="-1">Sample 9 <a class="header-anchor" href="#sample-9" aria-label="Permalink to &quot;Sample 9&quot;">​</a></h6><table tabindex="0"><thead><tr><th style="text-align:left;">SAMPLE_ID</th><th style="text-align:center;">ONCOTREE_CODE</th><th style="text-align:center;">ONCOTREE_CODE_OPTIONS</th></tr></thead><tbody><tr><td style="text-align:left;">S4</td><td style="text-align:center;"></td><td style="text-align:center;">HGNEE -&gt; ???, OncoTree code not in source OncoTree version</td></tr></tbody></table><p>Source OncoTree code <code>HGNEE</code> was not found in the source OncoTree version and therefore could not be mapped. Users can either reassign a new source OncoTree code (and rerun the script) or remove the sample.</p><h4 id="step-6" tabindex="-1">Step 6 <a class="header-anchor" href="#step-6" aria-label="Permalink to &quot;Step 6&quot;">​</a></h4><p>After filling in the <code>ONCOTREE_CODE</code> column with an OncoTree code for each sample, use an editor (e.g. Microsoft Excel, vim, etc.) to trim off the <code>ONCOTREE_CODE_OPTIONS</code> column. The resulting file will be a new <code>data_clinical_sample.txt</code> file with all codes mapped to the target version. The first four columns of the final result is shown below:</p><table tabindex="0"><thead><tr><th>PATIENT_ID</th><th>SAMPLE_ID</th><th>AGE_AT_SEQ_REPORT</th><th>ONCOTREE_CODE</th></tr></thead><tbody><tr><td>P1</td><td>S1</td><td>41</td><td>BLL</td></tr><tr><td>P2</td><td>S2</td><td>60</td><td>BLL</td></tr><tr><td>P3</td><td>S3</td><td>&lt;18</td><td>TLL</td></tr><tr><td>P4</td><td>S4</td><td>71</td><td>PTCL</td></tr><tr><td>P5</td><td>S5</td><td>64</td><td>PTCL</td></tr><tr><td>P6</td><td>S6</td><td>36</td><td>CHL</td></tr><tr><td>P7</td><td>S7</td><td>63</td><td>SPCC</td></tr><tr><td>P8</td><td>S8</td><td>63</td><td>MCL</td></tr><tr><td>P10</td><td>S10</td><td>52</td><td>NA</td></tr><tr><td>P11</td><td>S11</td><td>77</td><td>NA</td></tr><tr><td>P12</td><td>S12</td><td>87</td><td>MTNN</td></tr><tr><td>P13</td><td>S13</td><td>79</td><td>HDCN</td></tr><tr><td>P14</td><td>S14</td><td>53</td><td>CLLSLL</td></tr><tr><td>P15</td><td>S15</td><td>69</td><td>CLLSLL</td></tr><tr><td>P16</td><td>S16</td><td>65</td><td>MNM</td></tr><tr><td>P17</td><td>S17</td><td>66</td><td>MYCF</td></tr><tr><td>P18</td><td>S18</td><td>66</td><td>RBL</td></tr></tbody></table><h2 id="ontology-to-ontology-mapping-tool" tabindex="-1">Ontology to Ontology Mapping Tool <a class="header-anchor" href="#ontology-to-ontology-mapping-tool" aria-label="Permalink to &quot;Ontology to Ontology Mapping Tool&quot;">​</a></h2><p>The Ontology Mapping tool was developed to facilitate the mapping between different cancer classification systems. We currently support mapping between OncoTree, ICD-O, NCIt, UMLS and HemeOnc systems. The tool and the mapping file (the mapping file does not need to be downloaded to run the tool) can be found <a href="https://github.com/cBioPortal/oncotree/tree/master/scripts/ontology_to_ontology_mapping_tool" target="_blank" rel="noreferrer">here <span class="text-primary oi oi-external-link"></span></a></p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>The Ontology Mapping tool runs on python 3 and requires <code>pandas</code> and <code>requests</code> libraries. These libraries can be installed using</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pip3 install pandas</span></span>
<span class="line"><span>pip3 install requests</span></span></code></pre></div><h2 id="running-the-tool-1" tabindex="-1">Running the tool <a class="header-anchor" href="#running-the-tool-1" aria-label="Permalink to &quot;Running the tool&quot;">​</a></h2><p>The Ontology Mapping tool can be run with the following command:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>python &lt;path/to/scripts/ontology_to_ontology_mapping_tool.py&gt; --source-file &lt;path/to/source/file&gt; --target-file &lt;path/to/target/file&gt; --source-code &lt;source_ontology_code&gt; --target-code &lt;target_ontology_code&gt;</span></span></code></pre></div><p><strong>Options</strong></p><ul><li><code>i | --source-file</code>: This is the source file path. The source file must contain one of the <code>ONCOTREE_CODE</code>, <code>NCIT_CODE</code>, <code>UMLS_CODE</code>, <code>ICDO_TOPOGRAPHY_CODE</code>, <code>ICDO_MORPHOLOGY_CODE</code> or <code>HEMEONC_CODE</code> in the file header and it must contain codes corresponding to the Ontology System.</li><li><code>o | --target-file</code>: This is the path to the target file that will be generated. It will contain ontologies mapped from source code in <code>&lt;source-file&gt;</code> to <code>&lt;target-code&gt;</code>.</li><li><code>s | --source-code</code>: This is the source ontology code in <code>&lt;source-file&gt;</code>. It must be one of the <code>ONCOTREE_CODE</code>, <code>NCIT_CODE</code>, <code>UMLS_CODE</code>, <code>ICDO_TOPOGRAPHY_CODE</code>, <code>ICDO_MORPHOLOGY_CODE</code> or <code>HEMEONC_CODE</code>.</li><li><code>t | --target-code</code>: This is the target ontology code that the script will attempt to map the source file ontology code to. It must be one of the <code>ONCOTREE_CODE</code>, <code>NCIT_CODE</code>, <code>UMLS_CODE</code>, <code>ICDO_TOPOGRAPHY_CODE</code>, <code>ICDO_MORPHOLOGY_CODE</code> or <code>HEMEONC_CODE</code>.</li></ul><p><strong>Note</strong></p><ul><li>The source file should be tab delimited and should contain one of the ontology: <code>ONCOTREE_CODE</code>, <code>NCIT_CODE</code>, <code>UMLS_CODE</code>, <code>ICDO_TOPOGRAPHY_CODE</code>, <code>ICDO_MORPHOLOGY_CODE</code> or <code>HEMEONC_CODE</code> in the file header.</li><li>We currently are allowing only one ontology to another ontology mapping. In the future, we plan to extend the tool to support mapping to multiple ontology systems.</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"BceXjb0R\",\"faq.md\":\"DLit2BmC\",\"mapping.md\":\"CdddfsKe\",\"news.md\":\"ZGge0dYE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OncoTree\",\"description\":\"OncoTree, an open-source cancer classification system, to address fast-evolving needs in clinical reporting of genomic sequencing results and associated oncology research.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":false,\"aside\":\"left\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>